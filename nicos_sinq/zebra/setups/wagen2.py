description = 'Devices for the analyser detector assembly'

excludes = ['wagen1']

pvpref = 'SQ:ZEBRA:mcu3:'
snpref = 'SQ:ZEBRA:mcu2:'

devices = dict(
    nu = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Detector tilt',
        motorpv = pvpref + 'NUAN',
        errormsgpv = pvpref + 'NUAN-MsgTxt',
        precision = 0.01,
        unit = 'degree',
        can_disable = True,
        absolute_encoder = True,
    ),
    detdist = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Detector distance',
        motorpv = pvpref + 'W2DIST',
        errormsgpv = pvpref + 'W2DIST-MsgTxt',
        precision = 0.1,
        can_disable = True,
        absolute_encoder = True,
    ),
    a5 = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Analyser rotation',
        motorpv = pvpref + 'A5',
        errormsgpv = pvpref + 'A5-MsgTxt',
        precision = 0.02,
        can_disable = True,
        absolute_encoder = True,
    ),
    a6 = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Analyser two theta',
        motorpv = pvpref + 'A6',
        errormsgpv = pvpref + 'A6-MsgTxt',
        precision = 0.02,
        can_disable = True,
        absolute_encoder = True,
    ),
    tan = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Analyser translation',
        motorpv = pvpref + 'TAN',
        errormsgpv = pvpref + 'TAN-MsgTxt',
        precision = 0.02,
        can_disable = True,
        absolute_encoder = True,
    ),
    ana = device('nicos_sinq.devices.mono.SinqMonochromator',
        description = 'ZEBRA analyser',
        theta = 'a5',
        twotheta = 'a6',
        dvalue = 3.745,
        scatteringsense = 1,
        crystalside = 1,
        unit = 'A',
        focmode = None,
        abslimits = (1, 3),
    ),
    s2anr = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Analyser slit right',
        motorpv = snpref + 'S2ANR',
        errormsgpv = snpref + 'S2ANR-MsgTxt',
        precision = 0.02,
        can_disable = True,
    ),
    s2anb = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Analyser slit bottom',
        motorpv = snpref + 'S2ANB',
        errormsgpv = snpref + 'S2ANB-MsgTxt',
        precision = 0.02,
        can_disable = True,
    ),
    s2ant = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Analyser slit top',
        motorpv = snpref + 'S2ANT',
        errormsgpv = snpref + 'S2ANT-MsgTxt',
        precision = 0.02,
        can_disable = True,
    ),
    s2anl = device('nicos_sinq.devices.epics.motor_deprecated.EpicsMotor',
        description = 'Analyser slit left',
        motorpv = snpref + 'S2ANL',
        errormsgpv = snpref + 'S2ANL-MsgTxt',
        precision = 0.02,
        can_disable = True,
    ),
    anslit = device('nicos.devices.generic.slit.Slit',
        description = 'Analyser slit with left, right, bottom and top motors',
        opmode = 'centered',
        coordinates = 'opposite',
        left = 's2anl',
        right = 's2anr',
        top = 's2ant',
        bottom = 's2anb',
        visibility = (),
    ),
    s2anv = device('nicos.devices.generic.slit.HeightSlitAxis',
        description = 'Analyser slit  opening controller',
        slit = 'anslit',
        unit = 'mm',
    ),
    s2anh = device('nicos.devices.generic.slit.WidthSlitAxis',
        description = 'Analyser slit width controller',
        slit = 'anslit',
        unit = 'mm',
    ),
)
startupcode = """
counts._setROParam('readpv', 'SQ:ZEBRA:counter.S5')
"""
